<div class="loadingView" ng-if="hasPosition == false">
    Loading data, please wait.
    <br/>
</div>
<ng-include src="'app/views/dashboard/searchBar.html?i=1001'">
</ng-include>

<div class="stocksArea" ng-controller="stockCtrl">
    <h1>
        My positions
    </h1>
    <div class="msg" ng-if="hasPositions == false">
        {{msg}}
    </div>
    <div class="container" ng-if="hasPositions == true"> 
        <div class="stock" ng-repeat="stock in pos">
            <h3 style="border-bottom:1px solid #eee;" ng-click="moveToStock(stock.stock, stock.sQty)">
                {{stock.stock}}
            </h3>   
            <span ng-click="deletePosition(stock.position, stock.stock)" style="cursor:pointer;">
                Remove
            </span>

            <ul ng-repeat="p in stock.position">
                <li>
                    <div class="label">
                        Entry date
                    </div>
                    {{p.date| date: "dd/MM/yy"}}
                </li>
                <li>
                    <div class="label">
                        Expiry date
                    </div>
                    {{editDate(p.expiry) | date: "dd/MM/yy"}}
                </li>
                <li>
                    <div class="label">
                        Entry Price
                    </div>
                    {{p.entryPrice| currency}}
                </li>
                <li>
                    <div class="label">
                        Strike
                    </div>
                    {{p.strike}}
                </li>
                <li>
                    <div class="label">
                        Current
                    </div>
                    {{currPrc[p.name].curr| currency}}
                </li>
                <li>
                    <div class="label">
                        P&L
                    </div>
                    {{pnl(currPrc[p.name].curr, p.entryPrice)}}
                </li>

            </ul>
        </div>
    </div>
</div>